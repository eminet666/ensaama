
 
<html>

<head>
    <meta charset="utf-8">
    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
    <script src="https://eminet666.github.io/ensaama/components/debug/debug.js"></script>
    <script src="./aframe-physics-system.min.js"></script>  
      
    <script>
        var masse = 0;
        AFRAME.registerComponent('masse', {
            dependencies: ['dynamic-body'],
            init: function () {
                var el = this.el;
                el.setAttribute('dynamic-body', 'mass : 0');
            },
            tick: function () {
                if(masse == 1){
                    var el = this.el;
                    var mass = el.getAttribute('dynamic-body').mass;
                    el.setAttribute('dynamic-body', 'mass : 1');
                }
            },           
        });

        AFRAME.registerComponent('gravity', {
            init: function () {
                var lefthand = document.getElementById('lefthand');
                lefthand.addEventListener("ybuttondown", function (event) {
                    console.log("evt: ybuttondown");
                    masse = 1;
                });

                window.addEventListener('keydown', function (event) {
                    if (event.key === 'y') {
                        console.log("evt: ykeydown");
                        masse = 1;
                    }
                });                
            },
        });        


    </script>
    </head>

    <body>
        <a-scene physics="debug: true" gravity debug-keyboard="key: g; event: ybuttondown; target: #lefthand">
    

  <a-assets>
          <a-assets-item id="obj1" src="./assets/low_poly_tree/Lowpoly_tree_sample.obj"></a-assets-item>
          <a-assets-item id="mtl1" src="./assets/low_poly_tree/Lowpoly_tree_sample.mtl"></a-assets-item>
          <a-assets-item id="360" src="./assets/360.jpeg"></a-assets-item>
          <a-assets-item id="obj2" src="./assets/Black_Cat_Back_Arched_V2_L1.123cdfd0222e-c7a5-42c2-9595-202ab7c0a9c3/17152_BlackCatBackArched_V2.obj"></a-assets-item>
          <a-assets-item id="mtl2" src="./assets/Black_Cat_Back_Arched_V2_L1.123cdfd0222e-c7a5-42c2-9595-202ab7c0a9c3/Blank.mtl"></a-assets-item>
          <img id="chat" src="./assets/Black_Cat_Back_Arched_V2_L1.123cdfd0222e-c7a5-42c2-9595-202ab7c0a9c3/texture.jpeg">
        </a-assets>
        



          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="-1.5 0 -0.5" rotation="0 0 0" scale="0.05 0.05 0.05"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="-1 0 -1.5" rotation="0 190 0" scale="0.08 0.08 0.08"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="1 0 1.5" rotation="0 190 0" scale="0.09 0.09 0.09"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="1.6 0 1.5" rotation="0 190 0" scale="0.05 0.05 0.05"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="0.5 0 -1.5" rotation="0 0 0" scale="0.05 0.05 0.05"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="1.5 0 -1.5" rotation="0 190 0" scale="0.7 0.7 0.7"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="0.5 0 1" rotation="0 10 0" scale="0.09 0.09 0.09"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="0.5 0 1.6" rotation="0 19 0" scale="0.05 0.05 0.05"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="1.5 0 0.5" rotation="0 0 0" scale="0.05 0.05 0.05"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="1 0 1.5" rotation="0 190 0" scale="0.2 0.2 0.2"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="-1 0 -1.5" rotation="0 190 0" scale="0.09 0.09 0.09"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="-1.6 0 -1.5" rotation="0 190 0" scale="0.05 0.05 0.05"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="-0.5 0 1.5" rotation="0 0 0" scale="0.05 0.05 0.05"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="0.5 0 1" rotation="0 190 0" scale="0.02 0.02 0.02"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="-1.5 0 -1" rotation="0 10 0" scale="0.09 0.09 0.09"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="-1.5 0 -1.6" rotation="0 19 0" scale="0.05 0.05 0.05"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="-1.5 0 1.5" rotation="0 19 0" scale="0.07 0.07 0.07"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="1.5 0 -1.5" rotation="0 19 0" scale="0.09 0.09 0.09"></a-entity>
          <a-entity obj-model="obj: #obj1; mtl: #mtl1" position="-1.5 0 0.5" rotation="0 19 0" scale="0.07 0.07 0.07"></a-entity>

          <a-entity dynamic-body masse obj-model="obj: #obj2; mtl: #mtl2" src="chat"position="-1.5 10 0.5" rotation="0 19 0" scale="0.05 0.05 0.05"></a-entity>
          <a-entity dynamic-body masse obj-model="obj: #obj2; mtl: #mtl2" src="chat"position="1 12 1.5" rotation="0 190 0"scale="0.05 0.05 0.05"></a-entity>
          <a-entity dynamic-body masse obj-model="obj: #obj2; mtl: #mtl2"src="chat" position="-1.5 9 0.5" rotation="0 19 0" scale="0.05 0.05 0.05"></a-entity>
          <a-entity dynamic-body masse obj-model="obj: #obj2; mtl: #mtl2"  src="chat" position="1 13 1.5" rotation="0 190 0"   scale="0.05 0.05 0.05" ></a-entity>
          <a-entity dynamic-body masse obj-model="obj: #obj2; mtl: #mtl2" src="chat" position="-1.5 14 0.5" rotation="0 19 0" scale="0.05 0.05 0.05"></a-entity>
          <a-entity dynamic-body masse obj-model="obj: #obj2; mtl: #mtl2" src="chat" position="1 15 1.5" rotation="0 190 0"scale="0.05 0.05 0.05"></a-entity>
          <a-entity dynamic-body masse obj-model="obj: #obj2; mtl: #mtl2" src="chat" position="0.5 10 -1.5" rotation="0 19 0" scale="0.05 0.05 0.05"></a-entity>
          <a-entity dynamic-body masse obj-model="obj: #obj2; mtl: #mtl2"   position="1.5 17 0.5"rotation="0 190 0"   scale="0.05 0.05 0.05" ></a-entity>
          
          <a-text id="txtlog" value="witch" align="center" color="#fffff" 
          position="0 0.5 -0.5" rotation="0 0 0" scale="1 1 1">
          </a-text>
          <a-plane  static-body position="0 0 0" rotation="-90 0 0" width="4" height="4" color="#28352A"></a-plane>
         
          <a-sky src="#360"></a-sky>
      
         <a-entity id="player" position="0 0 0">
        <a-entity id="cam" camera position="0 0.5 0" look-controls wasd-controls="acceleration:10"
            begingame="xlimit: 0.2; zlimit: 0.2;" endgame="xlimit: 2; zlimit: 2;" currentposition="trace:false"
            chrono="trace: true">
            <a-text id="txtlog" value="" align="center" color="#FF0000" position="0 1.5 -1" rotation="0 0 0"
                scale="0.25 0.25 0.25">
            </a-text>
        </a-entity>
        <a-entity id="lefthand" oculus-touch-controls="hand: left"></a-entity>
        <!-- <a-entity id="righthand" oculus-touch-controls="hand: right" droite></a-entity> -->
    </a-entity>
  </a-scene>
</body>

</html>